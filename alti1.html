<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" name="viewport" content="width=device-width,height=device-height,initial-scale=1.0">
    <title>Forside</title>
    <link href="generel.css" type="text/css" rel="stylesheet">
</head>
<body>
<div id="index" class="usynlig">
    <div class="smartphone">
        <div class="content" style="width:100%;border:none;height:100%">
    <div id="topBar">
        <img src="pictures/topBarLogo.png" alt="Jesper's Torvekøkken logo" title="Jesper's Torvekøkken logo" />
    </div>
    <div id="overskriftIndex">
        <h1>Kaffekort</h1>
    </div>
    <div id="duHar" class="omkringKlip">
        <h3>Hej!<br/>
        du har</h3>
    </div>
    <div id="antalKlip">
        <h2 id="antalClip">

        </h2>
    </div>
    <div id="tilbage" class="omkringKlip">
        <h3>klip</h3>
    </div>

    <div id="">
        <form>
            <button id="brugKlipKnap" class="button">
                Brug klip
            </button>
        </form>
    </div>

    <div class="menu">
        <form  class="botKnap">
            <button id="kobKlipKnap" class="button">
                Køb klip
            </button>
        </form>
        <form  class="botKnap">
            <button id="omOsKnap" class="button">
                Om os
            </button>
        </form>
    </div>
    </div>
    </div>
</div>


<div id="brugKlip" class="usynlig">
    <div class="smartphone">
        <div class="content" style="width:100%;border:none;height:100%">
                <div id="topBar">
                    <img src="pictures/topBarLogo.png" alt="Jesper's Torvekøkken logo" title="Jesper's Torvekøkken logo" />
                </div>
                <div id="overskriftBrugKlip">
                    <h1>Hvor mange klip vil du bruge?</h1>
                </div>
                <div class="custom-select" style="width:200px;">
                    <form name="antalKlipTilBrug">
                            <select id="vaelgKlip">
                                <option value="0">Vælg antal</option>
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                            </select>
                    </form>
                </div>
                <div id="confirm">
                    <h2>Bekræft at du vil bruge klip</h2>
                </div>
                <div id="brugKlipDiv">
                    <form>
                        <button id="bekraeft" class="button" type="button">
                            Bekræft
                        </button>
                    </form>
                </div>

                <div class="menu">
                    <form class="botKnap" id="kaffekortKnap">
                        <button  class="button" type="button">
                            Kaffekort
                        </button>
                    </form>
                    <form  class="botKnap" id="kobKlipKnap1">
                        <button  class="button" type="button">
                            Køb klip
                        </button>
                    </form>
                </div>

            </div>
        </div>
</div>



<div id="omOs" class="usynlig" style="width:100%;border:none;height:100%">
    <div class="smartphone">
        <div class="content" style="width:100%;border:none;height:100%">
            <div id="topBar">
                <img src="pictures/topBarLogo.png" alt="Jesper's Torvekøkken logo" title="Jesper's Torvekøkken logo" />
            </div>
            <div id="overskriftIndex">
                <h1>Om os</h1>
            </div>
            <div id="hours">
                <h2 class="info">
                    Åbningstider
                </h2>
                <p>
                    Man-Fre: 07 - 16
                </p>
            </div>
            <div id="lokation">
                <h2 class="info">
                    Kontakt os
                </h2>
                <p>
                    Incuba, Nygaard, S-bygningen
                </p>
                <p>Tlf: xx xx xx xx</p>
            </div>
            <div id="socialMedia">
                <h2 class="info">
                    Sociale medier
                </h2>
                <p>
                <table style="margin-left: auto; margin-right: auto;">
                    <tr >
                        <th >
                    <a href="https://www.facebook.com/JespersTorvekoekken/" target="_blank" style="margin-right: 20px">
                        <img src="pictures/facebookLogo.png" style="width:40px;height:40px"/>
                    </a>
                        </th>
                        <th>
                    <a href="https://www.instagram.com/explore/locations/1025710587/jespers-torvekkken?hl=en" target="_blank">
                        <img src="pictures/instagramLogo.png" style="width:40px;height:40px"/>
                    </a>
                        </th>
                    </tr>
                </table>
                </p>
            </div>

            <div class="menu">
                <form class="botKnap">
                    <button id="kaffekortKnap1" class="button" type="button">
                        Kaffekort
                    </button>
                <form class="botKnap">
                    <button id="kobKlipKnap2" class="button">
                        Køb klip
                    </button>
                </form>
            </div>
        </div>
    </div>
</div>


<div id="kobKlipDiv" class="usynlig">
    <div class="smartphone">
        <div class="content" style="width:100%;border:none;height:100%">
                <div id="topBar">
                    <img src="pictures/topBarLogo.png" alt="Jesper's Torvekøkken logo" title="Jesper's Torvekøkken logo" />
                </div>
                <div id="overskriftIndex">
                    <h1>Køb klip</h1>
                </div>
                <div class="custom-select" style="width:200px;">
                    <form>
                        <select id="vaelgKort">
                            <option value="0">Vælg klippekort:</option>
                            <option value="1">10 klip - Stor kaffe</option>
                     </select>
                    </form>
                </div>
                <div id="addClipDiv">
                    <form id="addClip">
                        <button id="fuldendKob" class="button" type="button">
                            Betal med MobilePay
                        </button>
                    </form>
                </div>
                <div class="menu">
                    <form id="indexKnap" class="botKnap">
                        <button id="kaffekortKnap2" class="button" type="button">
                            Kaffekort
                        </button>
                    </form>
                    <form class="botKnap">
                        <button id="omOsKnap1" class="button" type="button">
                            Om os
                        </button>
                    </form>
                </div>
            </div>
        </div>
</div>

<div id="erDuSikker" class="usynlig">
    <div class="smartphone">
        <div class="content" style="width:100%;border:none;height:100%">
            <div style="width:100%;border:none;height:100%">
                <div id="topBar">
                    <img src="pictures/topBarLogo.png" alt="Jesper's Torvekøkken logo" title="Jesper's Torvekøkken logo" />
                </div>
                <div id="overskriftIndex">
                    <h2>Bekræft at du vil bruge 80 kr.</h2>
                </div>
                <div>
                    <form>
                    <button id="bekraeftKoeb" class="button" type="button">
                        Bekræft køb
                    </button>
                </form>
                </div>
                <div>
                    <form>
                        <button id="bekraeftIkkeKoeb" class="button" type="button">
                            Nej tak
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>


<div id="klipBrugtDiv" class="usynlig">
    <div class="smartphone">
        <div class="content" style="width:100%;border:none;height:100%">
            <div style="width:100%;border:none;height:100%">
                <div id="topBar">
                    <img src="pictures/topBarLogo.png" alt="Jesper's Torvekøkken logo" title="Jesper's Torvekøkken logo" />
                </div>
                <div id="overskriftBrugKlip">
                    <h1>Kvittering</h1>
                </div>
                <div id="topBar">
                    <img src="pictures/logoSpin.gif" alt="Jesper's Torvekøkken logo" title="Jesper's Torvekøkken logo" />
                </div>
                <div>
                    <p>Du har brugt <strong id="antalBrugteKlip"></strong> klip</p>
                    <h2>
                        Tak for købet
                    </h2>
                    <p id="dato"></p>
                </div>
                <div id="">
                    <form id="knappen">
                        <button id="tilbageTilForside" class="button" type="button">
                            Tilbage til forsiden
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="klipKoebt" class="usynlig">
    <div class="smartphone">
        <div class="content" style="width:100%;border:none;height:100%">
            <div style="width:100%;border:none;height:100%">
                <div id="topBar">
                    <img src="pictures/topBarLogo.png" alt="Jesper's Torvekøkken logo" title="Jesper's Torvekøkken logo" />
                </div>
                <div id="overskriftBrugKlip">
                    <h1>Kvittering</h1>
                </div>
                <div id="topBar">
                    <img src="pictures/coffee.gif" alt="Jesper's Torvekøkken logo" title="Jesper's Torvekøkken logo" />
                </div>
                <div>
                    <h2>
                        Du har nu købt 10 klip <br/>
                        Enjoy! (-:
                    </h2>
                </div>
                <div id="tilbageTilForsideFraKob">
                    <form id="knappen">
                        <button id="tilbageTilForside1" class="button" type="button">
                            Tilbage til forsiden
                        </button>
                    </form>
                </div>

            </div>
        </div>
    </div>
</div>

<div id="opretBruger" class="">
    <div class="smartphone">
        <div class="content" style="width:100%;border:none;height:100%">
            <div id="topBar">
                <img src="pictures/topBarLogo.png" alt="Jesper's Torvekøkken logo" title="Jesper's Torvekøkken logo" />
            </div>
            <div>
                <h1>
                    Opret dit kaffekort
                </h1>
            </div>
            <div id="opret">
                <form action="index0klip.html">
                    <p>Mobil nummer:
                        <input type="text" name="mobilnummer" size="20"
                               maxlength="30" />
                    </p>
                    <p>Kodeord:
                        <input type="password" name="password" size="20"
                               maxlength="30" />
                    </p>
                    <p>Genteg kodeord:
                        <input type="password" name="password" size="20"
                               maxlength="30" />
                    </p>
                </form>
            </div>
            <div>
                <form>
                    <button class="button" id="opretKnap" type="button">
                        Opret kaffekort
                    </button>
                </form>
            </div>
        </div>
    </div>
</div>


</body>
<script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script>
</html>


<script type="text/javascript">

    //Herunder er de forskellige DIV'er
let index = document.getElementById('index');

let brugKlip = document.getElementById('brugKlip');

let omOs = document.getElementById('omOs');

let kobKlip = document.getElementById('kobKlipDiv');

let klipBrugt = document.getElementById('klipBrugtDiv');

let klipKoebt = document.getElementById('klipKoebt');

let opretKaffekortDiv = document.getElementById('opretBruger');

let bekraeftKoebDiv = document.getElementById('erDuSikker');


//Her hentes knapperne
let brugKlipKnap = document.querySelector('#brugKlipKnap');

let kaffekortKnap = document.querySelector('#kaffekortKnap');
let kaffekortKnap1 = document.querySelector('#kaffekortKnap1');
let kaffekortKnap2 = document.querySelector('#kaffekortKnap2');

//Her hentes alle køb klip knapperne
let kobKlipKnap = document.querySelector('#kobKlipKnap');
let kobKlipKnap1 = document.querySelector('#kobKlipKnap1');
let kobKlipKnap2 = document.querySelector('#kobKlipKnap2');

let omOsKnap = document.querySelector('#omOsKnap');
let omOsKnap1 = document.querySelector('#omOsKnap1');

let bekraefBrugKnap = document.querySelector("#bekraeft");

let bekraeftKoebKnap = document.querySelector('#bekraeftKoeb');
let bekraeftIkkeKoebKnap = document.querySelector('#bekraeftIkkeKoeb');

let fuldendKob = document.querySelector('#fuldendKob');

let tilbageTilForsiden1 = document.querySelector('#tilbageTilForside1');
let tilbageTilForsiden = document.querySelector('#tilbageTilForside');

let opretKnap = document.querySelector('#opretKnap');

//Knappen som går fra "Opret kaffekort" -> selve kaffekortet
    opretKnap.addEventListener('click', (e)=>{
        opretKaffekortDiv.classList.add('usynlig');
        index.classList.remove('usynlig');
    });

//Denne knap fører til brugKlip.html
brugKlipKnap.addEventListener('mousedown', (e)=>{
    e.preventDefault();
    if(klip <= 0){
        alert('Du har ikke flere klip. Køb flere klip under Køb Klip');
    } else {
        brugKlipKnap.disabled = false;
        index.classList.add('usynlig');
        brugKlip.classList.remove('usynlig');
        omOs.classList.add('usynlig');
        kobKlip.classList.add('usynlig');
    }
});


//Denne knap fører til index.html
kaffekortKnap.addEventListener('click', (e)=>{
    index.classList.remove('usynlig');
    brugKlip.classList.add('usynlig');
    omOs.classList.add('usynlig');
    kobKlip.classList.add('usynlig');
});
kaffekortKnap1.addEventListener('click', (e)=>{
    index.classList.remove('usynlig');
    omOs.classList.add('usynlig');
});
kaffekortKnap2.addEventListener('click', (e)=>{
    kobKlip.classList.add('usynlig');
    index.classList.remove('usynlig');
});
fuldendKob.addEventListener('click', (e)=>{
    if (kortVaelger.value === "0"){
    alert('Vælg et kort');
    } else {
    bekraeftKoebDiv.classList.remove('usynlig');
    kobKlip.classList.add('usynlig');
    }
});
tilbageTilForsiden1.addEventListener('click', (e)=>{
    klipKoebt.classList.add('usynlig');
    index.classList.remove('usynlig');
});

//Denne knap fører til omOs.html
omOsKnap.addEventListener('click', (e)=>{
    e.preventDefault();
    omOs.classList.remove('usynlig');
    index.classList.add('usynlig');
    brugKlip.classList.add('usynlig');
    kobKlip.classList.add('usynlig');
});
omOsKnap1.addEventListener('click', (e)=>{
    kobKlip.classList.add('usynlig');
    omOs.classList.remove('usynlig');
});

//De 3 knapper herunder, fører brugeren til Køb Klip siden fra 3 forskellige stier
kobKlipKnap.addEventListener('mousedown', (e)=>{
    kobKlip.classList.remove('usynlig');
    omOs.classList.add('usynlig');
    index.classList.add('usynlig');
    brugKlip.classList.add('usynlig');
});
kobKlipKnap1.addEventListener('click', (e)=>{
    kobKlip.classList.remove('usynlig');
    omOs.classList.add('usynlig');
    index.classList.add('usynlig');
    brugKlip.classList.add('usynlig');
});
kobKlipKnap2.addEventListener('mousedown', (e)=>{
    kobKlip.classList.remove('usynlig');
    omOs.classList.add('usynlig');
    index.classList.add('usynlig');
    brugKlip.classList.add('usynlig');
});

//Disse knapper er på bekræft køb siden
    bekraeftKoebKnap.addEventListener('click', (e)=>{
        addClip();
        klipKoebt.classList.remove('usynlig');
        bekraeftKoebDiv.classList.add('usynlig');
    });
    bekraeftIkkeKoebKnap.addEventListener('click', (e)=>{
        bekraeftKoebDiv.classList.add('usynlig');
        kobKlip.classList.remove('usynlig');
    });

//Denne knap bekræfter at man vil bruge klip
bekraefBrugKnap.addEventListener('click', (e)=>{
    if ((klip - sel.value) < 0 ){
        alert('Du kan ikke bruge dette antal klip');
    } else if (sel.value <= 0){
        alert('Vælg venlist det antal klip du vil bruge');
    }
    else{
        brugKlip.classList.add('usynlig');
        klipBrugt.classList.remove('usynlig');
        useClip();
        tidspunkt();
        antalBrugteKlip();
    }
});

//Denne knap fører tilbage til forsiden, efter man har brugt et klip
tilbageTilForsiden.addEventListener('click', (e)=>{
    index.classList.remove('usynlig');
    klipBrugt.classList.add('usynlig');
});

//Herunder er vores cookie programmeret

    Cookies.set('clip', '', { expires: 7 });

    let sel = document.querySelector('#vaelgKlip');
    let kortVaelger = document.querySelector('#vaelgKort');

    let klipDiv = document.querySelector('#antalClip');
    let klip = Cookies.get('clip').length;
    let skipskup = document.createTextNode(klip);
    klipDiv.appendChild(skipskup);

    function antalBrugteKlip (){
        let strong = document.querySelector('#antalBrugteKlip');
        strong.innerHTML = '';
        let antal = document.createTextNode(sel.value);
        strong.appendChild(antal);
    }

    function tidspunkt (){
        let span = document.querySelector('#dato');
        let today = new Date();
        let day = today.getDate();
        let month = today.getMonth() + 1;
        let year = today.getFullYear();
        let time = today.getHours();
        let minut = today.getMinutes();
        // nu variablen kan fikses med en if sætning, så minut tallet ser rigtigt ud
        let nu = day + '/' + month + '/' + year + ' kl. ' + time + ':' + minut;
        span.innerHTML = '';
        let idag = document.createTextNode(nu);
        span.appendChild(idag);
    }

    function useClip() {
        klipDiv.innerHTML = '';
            klip = klip - sel.value;
            let klipsen = document.createTextNode(klip);
            klipDiv.appendChild(klipsen);
    }
    function addClip() {
        klipDiv.innerHTML = '';
        klip = klip + 10;
        let klipsen = document.createTextNode(klip);
        klipDiv.appendChild(klipsen);
    }


















var x, i, j, selElmnt, a, b, c;
/* Look for any elements with the class "custom-select": */
x = document.getElementsByClassName("custom-select");
for (i = 0; i < x.length; i++) {
    selElmnt = x[i].getElementsByTagName("select")[0];
    /* For each element, create a new DIV that will act as the selected item: */
    a = document.createElement("DIV");
    a.setAttribute("class", "select-selected");
    a.innerHTML = selElmnt.options[selElmnt.selectedIndex].innerHTML;
    x[i].appendChild(a);
    /* For each element, create a new DIV that will contain the option list: */
    b = document.createElement("DIV");
    b.setAttribute("class", "select-items select-hide");
    for (j = 1; j < selElmnt.length; j++) {
        /* For each option in the original select element,
        create a new DIV that will act as an option item: */
        c = document.createElement("DIV");
        c.innerHTML = selElmnt.options[j].innerHTML;
        c.addEventListener("click", function(e) {
            /* When an item is clicked, update the original select box,
            and the selected item: */
            var y, i, k, s, h;
            s = this.parentNode.parentNode.getElementsByTagName("select")[0];
            h = this.parentNode.previousSibling;
            for (i = 0; i < s.length; i++) {
                if (s.options[i].innerHTML == this.innerHTML) {
                    s.selectedIndex = i;
                    h.innerHTML = this.innerHTML;
                    y = this.parentNode.getElementsByClassName("same-as-selected");
                    for (k = 0; k < y.length; k++) {
                        y[k].removeAttribute("class");
                    }
                    this.setAttribute("class", "same-as-selected");
                    break;
                }
            }
            h.click();
        });
        b.appendChild(c);
    }
    x[i].appendChild(b);
    a.addEventListener("click", function(e) {
        /* When the select box is clicked, close any other select boxes,
        and open/close the current select box: */
        e.stopPropagation();
        closeAllSelect(this);
        this.nextSibling.classList.toggle("select-hide");
        this.classList.toggle("select-arrow-active");
    });
}

function closeAllSelect(elmnt) {
    /* A function that will close all select boxes in the document,
    except the current select box: */
    var x, y, i, arrNo = [];
    x = document.getElementsByClassName("select-items");
    y = document.getElementsByClassName("select-selected");
    for (i = 0; i < y.length; i++) {
        if (elmnt == y[i]) {
            arrNo.push(i)
        } else {
            y[i].classList.remove("select-arrow-active");
        }
    }
    for (i = 0; i < x.length; i++) {
        if (arrNo.indexOf(i)) {
            x[i].classList.add("select-hide");
        }
    }
}

/* If the user clicks anywhere outside the select box,
then close all select boxes: */
document.addEventListener("click", closeAllSelect);

</script>

